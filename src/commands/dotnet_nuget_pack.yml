description: >
  This command packs NuGet packages for a specified .NET project namespace.
parameters:
  project_path:
    type: string
  output_directory:
    type: string
    default: "/app/nupkgs"
steps:
  - run:
      name: Restore NuGet Packages
      command: <<include(scripts/dotnet/restore.sh)>>
      environment:
        PROJECT_PATH: <<parameters.project_path>>
  - run:
      name: Build Project for NuGet
      command: <<include(scripts/dotnet/nuget_build.sh)>>
      environment:
        PROJECT_PATH: <<parameters.project_path>>
  - run:
      name: Pack Project for NuGet
      command: <<include(scripts/dotnet/nuget_pack.sh)>>
      environment:
        PROJECT_PATH: <<parameters.project_path>>
        OUTPUT_DIRECTORY: <<parameters.output_directory>>
  - list_files:
      directory: <<parameters.output_directory>>
